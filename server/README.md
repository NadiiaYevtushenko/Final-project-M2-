# ğŸ›¡ï¸ Express.js + Passport â€” Ğ¡ĞµÑ€Ğ²ĞµÑ€Ğ½Ğ° Ğ°ÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ñ–ĞºĞ°Ñ†Ñ–Ñ

ĞŸĞ¾Ğ²Ğ½Ğ¾Ñ†Ñ–Ğ½Ğ½Ğ¸Ğ¹ ÑĞµÑ€Ğ²ĞµÑ€ Ğ½Ğ° Express.js Ñ–Ğ· SSR (Pug + EJS), Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ñ–Ñ”Ñ Ñ‡ĞµÑ€ĞµĞ· Passport, ÑĞµÑÑ–ÑĞ¼Ğ¸, middleware, CORS, Ğ¿ĞµÑ€ĞµĞ¼Ğ¸ĞºĞ°Ğ½Ğ½ÑĞ¼ Ñ‚ĞµĞ¼Ğ¸ Ñ‚Ğ° ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¼Ğ¸ Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ°Ğ¼Ğ¸,Ğ±ĞµĞ· Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ğ½Ğ½Ñ Ğ±Ğ°Ğ·Ğ¸ Ğ´Ğ°Ğ½Ğ¸Ñ…..
Ğ”Ğ°Ğ½Ñ– ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡Ñ–Ğ² Ğ·Ğ±ĞµÑ€Ñ–Ğ³Ğ°ÑÑ‚ÑŒÑÑ Ñƒ Ğ¿Ğ°Ğ¼'ÑÑ‚Ñ– (Ğ¼Ğ°ÑĞ¸Ğ²), Ñ‚Ğ¾Ğ¼Ñƒ Ğ¿Ñ–ÑĞ»Ñ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑĞºÑƒ ÑĞµÑ€Ğ²ĞµÑ€Ğ° Ğ²ÑÑ– ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡Ñ– Ğ²Ğ¸Ğ´Ğ°Ğ»ÑÑÑ‚ÑŒÑÑ.

## âœ… Ğ ĞµĞ°Ğ»Ñ–Ğ·Ğ¾Ğ²Ğ°Ğ½Ğµ

### ğŸ“¦ Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ñ–Ñ—

- Node.js + Express (5.x)
- Passport (Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ° ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ñ–Ñ) (Ñ€ĞµĞ°Ğ»Ñ–Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¾ Ñ‡ĞµÑ€ĞµĞ· server.js)
- Ğ¡ĞµÑÑ–Ñ— Ñ‡ĞµÑ€ĞµĞ· express-session
- Ğ¨Ğ°Ğ±Ğ»Ğ¾Ğ½Ñ–Ğ·Ğ°Ñ‚Ğ¾Ñ€Ğ¸: Pug (Ğ°Ğ²Ñ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ñ–ĞºĞ°Ñ†Ñ–Ñ, Ğ¿Ñ€Ğ¾Ñ„Ñ–Ğ»Ñ–) Ñ‚Ğ° EJS (Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¸ ( Ğ² Ñ€Ğ¾Ğ·Ñ€Ğ¾Ğ±Ñ†Ñ–))
- CORS + cookie-parser
- JWT utility (Ğ½Ğµ Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒÑ”Ñ‚ÑŒÑÑ Ñƒ Ñ†ÑŒĞ¾Ğ¼Ñƒ Ñ„Ğ»Ğ¾Ñƒ)

## ğŸ“ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾Ñ”ĞºÑ‚Ñƒ

server/
â”œâ”€â”€ public/
â”‚ â”œâ”€â”€ images/
â”‚ â”‚ â””â”€â”€ picLogo.png
â”‚ â”œâ”€â”€ scripts/
â”‚ â”‚ â””â”€â”€ theme.js
â”‚ â”œâ”€â”€ favicon.ico
â”‚ â””â”€â”€ style.css
â”œâ”€â”€ src/
â”‚ â”œâ”€â”€ config/
â”‚ â”‚ â””â”€â”€ jwtUtils.js
â”‚ â”œâ”€â”€ controllers/
â”‚ â”‚ â”œâ”€â”€ views/
â”‚ â”‚ â”‚ â”œâ”€â”€ ejs/
â”‚ â”‚ â”‚ â”‚ â”œâ”€â”€ partials/
â”‚ â”‚ â”‚ â”‚ â”‚ â”œâ”€â”€ footer.ejs
â”‚ â”‚ â”‚ â”‚ â”‚ â””â”€â”€ header.ejs
â”‚ â”‚ â”‚ â”‚ â””â”€â”€ products/
â”‚ â”‚ â”‚ â”‚ â”œâ”€â”€ index.ejs
â”‚ â”‚ â”‚ â”‚ â””â”€â”€ show.ejs
â”‚ â”‚ â”‚ â””â”€â”€ pug/
â”‚ â”‚ â”‚ â”œâ”€â”€ auth/
â”‚ â”‚ â”‚ â”‚ â”œâ”€â”€ login.pug
â”‚ â”‚ â”‚ â”‚ â”œâ”€â”€ protected.pug
â”‚ â”‚ â”‚ â”‚ â””â”€â”€ register.pug
â”‚ â”‚ â”‚ â”œâ”€â”€ layouts/
â”‚ â”‚ â”‚ â”‚ â””â”€â”€ base.pug
â”‚ â”‚ â”‚ â””â”€â”€ users/
â”‚ â”‚ â”‚ â”œâ”€â”€ index.pug
â”‚ â”‚ â”‚ â””â”€â”€ show.pug
â”‚ â”‚ â”œâ”€â”€ productController.js
â”‚ â”‚ â””â”€â”€ userController.js
â”‚ â”œâ”€â”€ middleware/
â”‚ â”‚ â”œâ”€â”€ adminMiddleware.js
â”‚ â”‚ â”œâ”€â”€ authMiddleware.js
â”‚ â”‚ â”œâ”€â”€ errorHandlerMiddleware.js
â”‚ â”‚ â”œâ”€â”€ logRequestsMiddleware.js
â”‚ â”‚ â””â”€â”€ validationUserInput.js
â”‚ â”œâ”€â”€ models/
â”‚ â””â”€â”€ routes/
â”‚ â”œâ”€â”€ productRoutes.js
â”‚ â”œâ”€â”€ themeRoutes.js
â”‚ â””â”€â”€ userRoutes.js
â”œâ”€â”€ .env
â”œâ”€â”€ package-lock.json
â”œâ”€â”€ package.json
â””â”€â”€ server.js

## ğŸ” ĞĞ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ñ–Ñ Ñ‡ĞµÑ€ĞµĞ· Passport (Ñ€ĞµĞ°Ğ»Ñ–Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¾ Ñ‡ĞµÑ€ĞµĞ· server.js)

- Ğ›Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ° ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ñ–Ñ (email + password)
- Passport session + express-session
- Ğ¡ĞµÑÑ–Ñ— Ğ· cookie (httpOnly, secure)
- Ğ¡ĞµÑ€Ñ–Ğ°Ğ»Ñ–Ğ·Ğ°Ñ†Ñ–Ñ/Ğ´ĞµÑĞµÑ€Ñ–Ğ°Ğ»Ñ–Ğ·Ğ°Ñ†Ñ–Ñ:

## âš™ï¸ Ğ—Ğ°Ğ¿ÑƒÑĞº

### Ğ’ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ñ–Ñ‚ÑŒ Ğ·Ğ°Ğ»ĞµĞ¶Ğ½Ğ¾ÑÑ‚Ñ–:

```bash
cd server
npm install
```

### Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ñ–Ñ‚ÑŒ ÑĞµÑ€Ğ²ĞµÑ€:

```bash
npm start        # Ğ°Ğ±Ğ¾
npm run dev      # Ğ· nodemon
```

## Ğ’Ñ–Ğ´ĞºÑ€Ğ¸Ğ¹Ñ‚Ğµ Ñƒ Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ñ–:

http://localhost:5000/users/auth/register  
http://localhost:5000/users/auth/login
http://localhost:5000/users/auth/protected
